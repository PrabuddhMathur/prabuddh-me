/**
 * Spoiler Text - Tailwind-style animation
 */

@layer components {
    /* Editor styling */
    .Draftail-Editor .DraftEditor-editorContainer span[data-spoiler] {
        @apply cursor-text;
    }

    /* Hidden spoiler - matches Tailwind classes */
    .spoiler {
        display: inline;
        cursor: pointer;
        user-select: text;
        
        /* Inherit typography from parent */
        font-family: inherit;
        font-size: inherit;
        font-weight: inherit;
        line-height: inherit;
        letter-spacing: inherit;
        
        /* Fix vertical alignment with baseline text */
        vertical-align: baseline;
        
        /* Remove browser button styling (role="button" override) */
        border: none;
        outline: none;

        
        /* Ensure consistent box model */
        box-sizing: border-box;
        
        /* Default - use theme's neutral color for background */
        background-color: var(--spoiler-bg-color);
        color: transparent;
        
        /* Rounded corners for visual appeal */
        border-radius: 0.375rem;
        
        /* Small padding to look better with rounded corners */
        padding: 0.125rem 0.25rem;
        
        /* No transition animation */
        transition: none;
    }


    /* Revealed state - matches toggled classes */
    .spoiler.revealed {
        /* Inherit text color from parent - CRITICAL FIX */
        color: inherit ;
        
        /* bg-transparent - use  to override */
        background-color: transparent ;
        
        /* Remove visual separation to blend with regular text */
        padding: 0;
        border-radius: 0;
        
        /* Allow text selection */
        user-select: text;
        cursor: pointer;
    }

    /* Hover state for revealed spoilers - keep transparent */
    .spoiler.revealed:hover {
        background-color: transparent ;
    }

    /* Remove focus outline to prevent visible borders */
    .spoiler:focus {
        outline: none ;
    }
}