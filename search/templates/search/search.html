{% extends "core/base.html" %}
{% load static wagtailcore_tags %}

{% block title %}Search{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-16 max-w-4xl">
    <h1 class="text-4xl font-bold mb-8">Search</h1>

    <form action="{% url 'search' %}" method="get" class="mb-8">
        <div class="flex gap-2">
            <input type="text" name="query"{% if search_query %} value="{{ search_query }}"{% endif %} 
                   class="input input-bordered flex-1" placeholder="Enter search query...">
            <input type="submit" value="Search" class="btn btn-primary">
        </div>
    </form>

    {% if search_results %}
    <div class="space-y-6">
        {% for result in search_results %}
        <div class="card bg-base-200">
            <div class="card-body">
                <h4 class="card-title">
                    <a href="{% pageurl result %}" class="link link-hover">{{ result }}</a>
                </h4>
                {% if result.search_description %}
                <p>{{ result.search_description }}</p>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="flex justify-between mt-8">
        {% if search_results.has_previous %}
        <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.previous_page_number }}" 
           class="btn btn-outline">Previous</a>
        {% else %}
        <div></div>
        {% endif %}

        {% if search_results.has_next %}
        <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.next_page_number }}" 
           class="btn btn-outline">Next</a>
        {% endif %}
    </div>
    {% elif search_query %}
    <div class="alert alert-info">
        <span>No results found for "{{ search_query }}"</span>
    </div>
    {% endif %}
</div>
{% endblock %}
